
                           < ....... NODE JS ........ >


Closures - is the combination of functions bundled together (enclosed) with reference to its surrounding state (the lexical environment).
in others words , a Closures gives a function access to its outer scope.
In javascript a , a closure is created every time a function is created , at function creation time.

Hoisting - refers to the process whereby the interpreter appears to move the declarations
of functions , variables, classes and imports to the top of the scope.prior to the execution of code.

Promises - The Promise object represents the eventual completion (or failure) of
an asynchronous operation and its resulting value.

           states of Promise:
           1. Pending: Initial state, neither fulfilled nor rejected.
           2. Fulfilled: Successful operation, result available.
           3. Rejected: Failed operation, reason for failure available.


Async/Await - Async:makes a function returns a promise.
Await:makes an async function waits for the promise.


Call Stack - A call stack is a mechanism for an interpreter to keep track of its place 
             in a script that calls multiple functions. what function is being run and
             what functions are called from within that function.
             When a Script calls a function. the interpreter adds it to the call stack
             and then starts carring out the function.


Event loop - Allows node js to perform non-blocking I/O operations - despite the
fact that a single javascript thread is used by default - by offloading
operations to the system kernel whenever possible

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€>â”‚ timers â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ pending callbacks â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚ idle, prepare â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ incoming: â”‚
â”‚ â”‚ poll â”‚<â”€â”€â”€â”€â”€â”¤ connections, â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ data, etc. â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”‚ check â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”¤ close callbacks â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Node js working - Jab Node.js koi program chalata hai, to uske paas 2 main cheezein hoti hain:

                   Call Stack â€” jahan synchronous code run hota hai.

                   Event Loop â€” jo check karta hai ke koi async kaam complete
                   hua hai ya nahi, aur agar hua hai to usse dobara
                   Call Stack me bhejta hai.

Event-Driven-Architecture - is an architectural pattern in which a system reacts to events
generated by some parts of the system or by user actions.
these events are sent asyncronously and can be consumed by
any number of components , creating a flexible and scalable
communication network.
the main characteristic is the interaction between components via
events rather then direct and synchronous calls(like Rest Api).

                            Three main components of EDA architecture:

                                   1. Event Producer - generates events and emits them to a channel.

                                   2.Event Consumer  - Processes the recieved events.

                                   3.Event Mediator  - An intermediary System (RabbitMQ , Kafka , AWS EventBridge) that manages communication
                                   between producers and consumers.

                              Benefits of EDA:

                                   1:Decoupling - components are independent, making it easier to maintain and scale.

                                   2:Scalability - Events can be processed in parallel and
                                   distrubuted amoung mutlple consumers.

                                   3:Resilience - Failures in consumers do not affect the
                                                  system as a whole.

                                   4:Reactivity - System responds quickly to changes and
                                                  making it ideal for real-time systems.

THE NODE JS File System -  Node js act as a File Server . With Node Modules you can work with 
                           files on your computer and perform various operations.
                           When you are building web app , you might want to upload images , resume , video , docs to the server.Well the node file system has the ability to do all of that and more.

Node js built-in Modules - fs , http , url , os , path.

How to work with Node fs Module - The fs module allows you to carry out several operations
                                  that involve files and folders.With the fs module you can:
                                  .read   files
                                  .create files
                                  .update files
                                  .delete files
                                  .rename files

How to read file in node js    -    using fs.readFile() method.

How to create file in node js -  using appendFile() , open() and writeFile().


Two types of reading files - Sync and Async 
                             for Sync  - use readFileSync().
                             for Async - use readFile().

fs module also with directories is well with fs.mkdir creates directory and fs.rmdir removes directory.

What is process in Node.JS ? - In node js , the process object is a global object provides
                               information and control over the current node js process.
                               Basically the instance of the program that is running.

                                   You can use it to :
                                                     1. Access Arguments passed to the script.
                                                     2. Communicate with the operating system.
                                                     3. Handle Input / Output (stdIn, stdout).
                                                     4. Manage Environment Variables.
                                                     5. Handle Exit code and signals.
                                                     6. Spawn child process.

                                   Main Features of Process :
                                                  1.process.argv : access cmd-line arguments.
                                                  2.process.env: access environment variables.
                                                  3.process.stdin , stdout :
                                                    terminal input/output - Reading user input , logging errors.
                                                  4:process.exit : exit the program eg. Process.exit(0) success | process.exit(1) error
                                                  5.process.cwd(): current working directory.
                                                  6.process.memoryUsage() : View memory used by your app.
                                                  7.process.uptime():time since the process started.
                                                  8.process.kill(): kill a process.

Environment Variables - Environment variables are key-value pairs used to configure   
                         applications externally, allowing you to manage secrets and settings without hardcoding them into the source code.

Streams in Node js - A Stream is a way to read or write sequence of data continously.
                     in small chunks rather than loading it all into memory at once.
                     Streams are used for handling data like files , network communications or
                     any kind of data that comes in chunks.


                          Types of Streams:
                              1. Readable Streams : for reading data.
                              2. Writable Streams : for writing data.
                              3. Duplex Streams : for both reading and writing data.(.net Socket)
                              4. Transform Streams : for transforming data while it is being read or written.

Buffers in Node js -  Buffers are temporary storage areas for chunks of data being 
                      transfered between  streams and processed by node js.They are
                      useful for handling binary data like images or files.

                      Why use Buffers?
                          1. Streams process data in chunks.
                          2. Buffers temporarily stores these chunks until the 
                             stream processes them 

                      Buffer methods:
                          1.Buffer.alloc(size).
                          2.Buffer.from(data).

Event Emitters in node js -  eventemitters is a class that comes from event module that is
                             a built in module in node js. we can create , fire(emit) and 
                             listen (on) to the events in node js and many listeners can listen 1 single event emit that triggers.

                             eventEmitter.emit("triggered event").
                             eventEmitter.on("triggered event", callback).

Child Process in node js   - Child Process node js main eik helper program hota hai jo
                             jo alag task perform krta hai taka node js ka main program
                             busy na ho.
                            
                            Real Examples:
                                    Image resize karna

                                    Video ko compress karna

                                    1000 records ko Excel mein export karna

                                    1 lakh users ka analysis karna


                                    spawn() - ka kaam hai node js main koi b system ya terminal ki command chalana aur live output show krwana

                                    fork() - node ka chota helper node banata hai alg jisko tum message bhej sakta ho aur wapis recieve b krskta ho.

                                    exec(): System command ko string ke through shell ke saath run karta hai aur ek baar mein output return karta hai.

                                    execFile(): Directly program ya executable file ko run karta hai aur arguments ko safely pass karta hai, bina shell ke


MINI PROJECT :  2 CLI APPS -        POKEDEX - POKEMON API and CLI To build and show pokemon
                                    name and its top five moves
                                    Quiz Cli - Using figlet , inquirer , many other packages 
                                    to build a quiz app that asks user questions and user 
                                    give answers.



                           <  ..... EXPRESS JS .....  > 

EXPRESS.JS             -             FAST , UNOPINIONATED , MINIMALISTIC framework for Node js

              Express js  : is a web framework for node js that helps you

                            => Handle Request and Responses.
                            => Create Routes.
                            => Use MiddleWares.
                            => Make your Server organised and efficient.

              Basic Routing - Routing refers to determining how an application responds to a 
                              client request at a particular endpoint 

                              what is endpoint - a specific address on the server where
                                                client get or send  data.

                              App.Method(Path , Handler)


Middlewares in Express js -  Middleware functions are the functions that have access to 
                             request object , response object and next function in the 
                             application's request-response cycle.

                             Types of MiddleWares 
                                
                                            App-Level Middleware
                                            Router-Level Middleware
                                            Error-Handling Middleware
                                            Built-in Middleware
                                            Third-Party Middleware

                              Flow of Middleware in example specific order 

                                     Request()

                                      |
                                      v

                                    Auth Middleware

                                      |
                                      v

                                    Role-base MiddleWare

                                      |
                                      v

                                    Response()


Handling Request and Response in Express - At the heart of any Express App is Request and
                                           Response - How Clients and Servers Talks

Request -                                  in express req object is like an incomming request
                                           from the client(like a browser , mobile app or postman).
                                  
                                  Key Properties of Request Object 
                                    
                                    req.url    : The req of the URL(e.g /login).

                                    req.method : Http methods used (e.g GET , POST).

                                    req.body   : The data sent by the client in a 
                                                  POST/PUT request.
                                    req.params : Url parameters (e.g /user/:id)

                                    req.query  : Query Strings (e.g /search?term=react)
                      
                                    req.headers: Metadata about the request(content type 
                                                  and auth tokens).

Response -                      The res object  is used to send back data or messages to
                                the client.


                                  Key Methods 

                                    res.send()     : sends a plain response ( like text , html
                                                     and object etc); 
                                    res.json()     : sends a JSON response (automatically set
                                                     headers).

                                    res.status()   : Sets the HTTP status code.

                                    res.redirect() : Redirects the Client to another url.
 
                                    res.render()   : Renders a view template(if using a                templating engine. )

In simple :
Request (req) is what you get from the client, and Response (res) is what you send back to the client.


Express Router -  in express.js , Router is a way to create modular , mountable route handlers
                  Think of it as a mini express app without features of full app(like .listen()). it helps to seperate routes and logic into files.Keeping your code clean and manageable.

Modular Code -    it means breaking your code into small , reusable pieces(modules).
           
                      In an Express App, you can seperate:
                          
                          Routes(routes/).

                          Controllers or logic (controllers/).

                          Database or models.

                          App setup.


  Error Handling in node js :  it means writing code that catches and responds to unexpected
                               issues (errors) in your program.

                               __ like missing files , wrong input or failed input requests -
                                  instead of crashing.


                         
                          Types of Error
                           
                          Programmer :

                                     1: mistakes in the logic and syntax of the code.

                                     2:can be fixed by editing source code.

                                     3:ex, trying to access a property of undefined variable.
                          
                          Operational:
                                   
                                     1: antiticipated and accounted for (expected).

                                     2: when an operation has the potential o fail.

                                     3: handled by determining what should happen if it fails.

                                     4: ex ; " User not found " , " Not Authorized".


JWt in node js ?       -           JWT stands for json web token                              
                                       jwt is a secure token that server gives to client for 
                                       secure authication of user and it is stateless


                                    JWT consists of 3 parts 

                                        1: Header (type:jwt and algorithm (e.g HS256)).

                                        2: Payload (User info (e.g userId , email etc)).

                                        3: Signature : Secret key to signature data.


                                    Working of jwt
                                        
                                        user login krta hai =>

                                        server token banata hai aur client ko bhejta hai ->

                                        client har protected route main token send krta hai =>

Role-Base Authorization -                it is a technique that we 
                                         asign specfic roles to a user (e.g Admin , User , Editor) and according to that role they have permissions to do the things.


                                      Role-Base Authorization basic concept : 

                                      Authentication: Verify the identity of  user (using login).

                                      Authorization: decide what access we give to user (based on Role).

                                      Example : 
                                                admin : can manage user and data.

                                                user : can only access its data.


                                        Step | What Happens
                                                  âœ… Login | JWT token generate hota hai
                                                  ğŸª Cookie | Token client browser mein store
                                                  ğŸ” Middleware | Cookie se token extract, verify
                                                  ğŸ” RBAC | Role check hota hai
                                                  ğŸ¯ Final | Access allowed ya denied               


Visual Summary Of RBAC:

[Client]
â†’ Signup/Login â†’ Token milta hai cookie mein

[Client Browser]
â†’ Har request ke saath cookie send hoti hai

[Server]
â†’ Middleware JWT verify karta hai â†’ req.user mein info inject karta hai
â†’ Role middleware (RBAC) role check karta hai
â†’ If allowed â†’ data send, else â†’ 403 Access Denied
